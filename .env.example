# Profiles
SPRING_PROFILES_ACTIVE=dev

# Server
SERVER_PORT=8080
APP_TIMEZONE=Europe/Berlin

# Telegram
TELEGRAM_BOT_TOKEN=your-token-here
TELEGRAM_ENABLED=true
TELEGRAM_BOT_USERNAME=your-bot-username
TELEGRAM_POLLING_ALLOWED_UPDATES=

# Notion
NOTION_ENABLED=true
NOTION_TOKEN=your-notion-secret
NOTION_DATABASE_ID=your-database-id
NOTION_VERSION=2022-06-28
NOTION_API_BASE_URL=https://api.notion.com
NOTION_PROPERTY_NAME_TITLE=Name
NOTION_PROPERTY_NAME_SOURCE=Source
NOTION_PROPERTY_NAME_RAW=Raw
NOTION_PROPERTY_NAME_START=Start
NOTION_PROPERTY_NAME_END=End
NOTION_PROPERTY_NAME_TYPE=Type
NOTION_PROPERTY_NAME_LOCATION=Location
NOTION_PROPERTY_NAME_REMINDER=Reminder
NOTION_PROPERTY_TYPE_SOURCE=SELECT

# LLM
LLM_ENABLED=true
LLM_API_BASE_URL=https://api.openai.com
LLM_MODEL=gpt-4o-mini
OPENAI_API_KEY=your-openai-key
LLM_CONNECT_TIMEOUT=5s
LLM_READ_TIMEOUT=20s

# Working memory
WORKING_MEMORY_ENABLED=true
WORKING_MEMORY_TTL_MINUTES=30
WORKING_MEMORY_MAX_PER_CHAT=1

# Qdrant
QDRANT_ENABLED=true
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=calyra_memory
QDRANT_VECTOR_SIZE=1536
QDRANT_DISTANCE=Cosine
QDRANT_CONNECT_TIMEOUT=5s
QDRANT_READ_TIMEOUT=10s

# Embeddings
EMBEDDING_PROVIDER=fake
EMBEDDING_MODEL=text-embedding-3-small

# Retrieval
RETRIEVAL_MIN_SCORE=0.35
RETRIEVAL_MIN_MARGIN=0.05
RETRIEVAL_LOOKBACK_DAYS=180
RETRIEVAL_MAX_CANDIDATES=5
RETRIEVAL_SELECTION_TTL_MINUTES=30

# Suggestions
SUGGESTION_ENABLED=true
SUGGESTION_MIN_CONFIDENCE_AUTO=0.85
SUGGESTION_MIN_CONFIDENCE_SUGGEST=0.55
SUGGESTION_MAX_CANDIDATES=10
SUGGESTION_LOOKBACK_DAYS=180
SUGGESTION_CONFIRMATION_REQUIRED=true

# Preference learning
PREFERENCE_LEARNING_ENABLED=false
PREFERENCE_LEARNING_MIN_SAMPLES=3
PREFERENCE_LEARNING_LOOKBACK_DAYS=180
PREFERENCE_LEARNING_UPDATE_STRATEGY=MEDIAN

# JDBC (dev defaults)
JDBC_URL=jdbc:h2:mem:calyra;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
JDBC_DRIVER=org.h2.Driver
JDBC_USERNAME=sa
JDBC_PASSWORD=
JPA_DDL_AUTO=update

# JDBC (prod overrides)
# JDBC_URL=jdbc:postgresql://postgres:5432/calyra
# JDBC_DRIVER=org.postgresql.Driver
# JDBC_USERNAME=calyra
# JDBC_PASSWORD=change-me

# Postgres (compose)
POSTGRES_DB=calyra
POSTGRES_USER=calyra
POSTGRES_PASSWORD=change-me

# Optional webhook proxy (Caddy)
DOMAIN=your-domain.example
ACME_EMAIL=admin@your-domain.example
